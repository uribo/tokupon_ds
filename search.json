[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "データ分析入門",
    "section": "",
    "text": "このページは徳島大学デザイン型AI教育研究センターが 開催する、小中高生を対象にした「とくぽんAI塾 2022」のコースの一つである「データ分析入門」 の資料置き場です。このコースでは、R言語を使ったデータ分析にチャレンジします。\nコースは基礎編と発展編の2つに分けられます。基礎編では、データ分析に必要な知識・背景の理解のための 素養を身につけることを目指します。まず、データの種類と扱い方、表現方法を第1章で学びます。 次に第2章では\n\n\n徳島大学マスコットキャラクターの「とくぽん」が解説を行います。 とくぽんによる解説には次の種類があります。\n\n\n\n\n\n\nノート\n\n\n\n全般的な補足事項\n\n\n\n\n\n\n\n\n警告\n\n\n\n注意事項\n\n\n\n\n\n\nR version 4.2.0\nmacOS Monterey 12.4\n\nこのページはQuartoを使って作成されています。 renvによるパッケージ管理、GitHub actionsによるページのビルドを行っています。\n\n\n\nMIT"
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  はじめに",
    "section": "",
    "text": "データ分析とは、 得られたデータを人間が利用できる形に変換することで 対象についての理解や予測を目指す手続き\nデータの取得は観測や実験により行われます。\nデータ分析を行うために統計学の知識を活用します。 統計学では確率論と呼ばれる数学の力を使うことでデータ分析の幅を広げることができます。\n数学は理系の印象がありますが、データ分析は文理問わず求められる技能です。\nデータ分析の目的\n\nデータを要約すること\nデータの意味を説明すること\n新たに得られるデータに対する予測を行うこと\n\n\n\n\n\n\nデータサイエンス、データサイエンティスト\nデータ処理、分析のための専門知識を備える\nデータに含まれる誤差やバイアスといった性質を正しく理解した上で、データから有益な情報を引き出す。"
  },
  {
    "objectID": "intro.html#データグラフに騙されない",
    "href": "intro.html#データグラフに騙されない",
    "title": "1  はじめに",
    "section": "1.2 データ、グラフに騙されない",
    "text": "1.2 データ、グラフに騙されない\n私たちの身の回りには数値やグラフがたくさんあります。\nデータを見て、何を強調して示したいか（作り手の意図。同じデータであっても何をどう示すかで見方が変わる\nこうしたデータ、グラフに騙されないための素養（リテラシー）が重要になります。"
  },
  {
    "objectID": "intro.html#データ分析で扱う問題",
    "href": "intro.html#データ分析で扱う問題",
    "title": "1  はじめに",
    "section": "1.3 データ分析で扱う問題",
    "text": "1.3 データ分析で扱う問題\n統計モデルを使って問題の解決に挑みます。\n回帰と分類\nこのコースでも、発展として簡単な回帰と分類問題に挑戦します。\n\n\n\n\n\n\nR言語について\n\n\n\nこのコースではR言語を使った実習を行うよ。 R言語は統計計算と作図の機能に優れたプログラミング言語の一種だよ。 オープンソース・フリーソフトウェアと言って、誰もが自由に使うことができるんだ。\nR言語に関心を持ったなら、付録の「Rのイロハ」を見てみてね。\nRのインストール方法、簡単な使い方を紹介するよ。"
  },
  {
    "objectID": "intro.html#まとめ",
    "href": "intro.html#まとめ",
    "title": "1  はじめに",
    "section": "1.4 まとめ",
    "text": "1.4 まとめ"
  },
  {
    "objectID": "intro.html#参考文献url",
    "href": "intro.html#参考文献url",
    "title": "1  はじめに",
    "section": "1.5 参考文献・URL",
    "text": "1.5 参考文献・URL\n\n(江崎貴裕 2020)\n\n\n\n\n\n江崎貴裕. 2020. 分析者のためのデータ解釈学入門 : データの本質をとらえる技術. ソシム. http://id.ndl.go.jp/bib/030791751."
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  データの種類と表現方法",
    "section": "",
    "text": "コードを表示\n# dfはデータフレーム(data frame)の頭文字から\ndf_zoo <- \n  readr::read_csv(\"data-raw/tokushima_zoo_animals22.csv\", \n                col_types = \"ccdd_\")"
  },
  {
    "objectID": "data.html#データの種類",
    "href": "data.html#データの種類",
    "title": "2  データの種類と表現方法",
    "section": "2.1 データの種類",
    "text": "2.1 データの種類\nデータと言われて思い浮かべるものはなんでしょうか。 ここではデータをさまざまな計測や観察により得られる情報のことを示します。 対象から情報を引き出したものと言い換えることもできます。 多くは数値の形をしていますが、文字列である場合もあります。 例をあげてみましょう。 ある動物について、体の一部の大きさや体重を測る、雌雄を調べる。 これらはデータの一つです。\n\n\nコードを表示\n# ある動物の種類についての分類群や体重を調べました\nc(\"食肉類\", \"鳥類\", \"食肉類\")\n\n\n[1] \"食肉類\" \"鳥類\"   \"食肉類\"\n\n\nコードを表示\nc(6, 3.5, 5.4)\n\n\n[1] 6.0 3.5 5.4\n\n\n複数の動物の体重のように共通の手法によって得られた値のことを変数といいます。 動物の体重は、個体や種類が違うと値も変わります。\n体重を記録するときは数値を用いました。 このように数量を表す変数のことを量的変数といいます。 数値からなる変数なので、平均を求めたり大きい順番に並び替えるといった処理が可能です。\n量的変数の場合、数値の種類によってさらに離散変数と連続変数に分類できます。 変数の数値がとり得る値が一定の間隔によりバラバラなものを離散変数と呼びます。 例えばサイコロの出目は一般的に1から6までの整数であるため、離散変数です。 また動物を1頭、2頭と数えた個体数も同じです。\n離散型の量的変数に対し、連続値で表現される変数を連続変数といいます。 3.5\\(kg\\)、5.4\\(kg\\)のように表現される体重は連続変数です。\nでは雌雄や分類群はどのように記録するのが適切でしょうか。 これらは数量として扱いにくいものです。 「雄」や「雌」、「鳥類」や「霊長類」という具合に項目を変数として扱う場合、 それは質的変数またはカテゴリ変数と呼ばれます。 質的変数は量的変数のように足し算や引き算といった計算ができないのが特徴です。\n\n\n\n\n\n\n\n測定の尺度\n\n\n\n変数の性質により、量的変数と質的変数をより細かく分類することもあるよ。 尺度水準と呼ばれる基準を用いると、量的変数は間隔尺度と比例尺度に、質的変数は名義尺度と順序尺度に分けて考えることができるんだ。それぞれの特徴を説明するね。\n\n比例尺度: 量的変数のうち値の比それ自体に意味のある尺度。\n間隔尺度: 量的変数で値の差自体に意味のある尺度。例) 華氏で記録した温度\n順序尺度: 質的変数で項目に順序があるもの。大小の比較ができるが演算には意味を持たない。代表値は最頻値や中央値で表される。例) 動物の保全状況\n名義尺度: 質的変数のうち、順序がないもの。値の比較や演算に意味を持たず、数値を単なる名前として対象に割り振る。このとき代表値の指標としては最頻値のみが利用できる。名義尺度だけで与えられるデータをカテゴリデータと呼ぶこともある。例) 雌雄、動物の分類群\n\n\n\nデータの種類に応じて名前がついている理由は、 データの種類によって適切なデータ分析の手法が異なるためです。 データ分析を行う際は、データがどの種類の変数なのか意識することが大切です。\n\n2.1.1 データフレーム\nデータ分析の作業においては、データの変数を比較し、関係を調べることが頻繁に行われます。 特定の個体や観測について複数の項目を同時に扱えるようにするために、データを表形式でまとめて表現します。 これを表データまたはデータフレームと呼びます。\nデータフレームの例として、いくつかの動物の体の大きさ（体長）と体重の記録をデータフレームにまとめてみましょう。 データフレームでは個人や個体、観測といったデータを一つの行にまとめます。 レッサーパンダの体長と体重の行、チンパンジーの体長と体重の行と、それぞれの値を行単位で記録します。 22種類の動物のデータをとった場合は22行、40種の動物についてであれば40行となりますね。 また、動物の分類群や名前や体長、体重といった変数を列として表します。\n\n\n\n5種の動物についての体長・体重のデータフレーム\n\n\n分類群\n動物の名前\n体長(cm)\n体重(kg)\n\n\n\n\n食肉類\nレッサーパンダ\n63.5\n6\n\n\n霊長類\nチンパンジー\n85.0\n60\n\n\n霊長類\nマントヒヒ\n80.0\n20\n\n\n食肉類\nライオン\n250.0\n225\n\n\n鳥類\nフンボルトペンギン\n69.0\n6\n\n\n\n\n\nデータフレームではデータを横に見たものが行、縦に見たものを列と考えます。 上記のデータフレームは5行4列のデータフレームといえます。\n\n\n\n\n\n\n表計算ソフトウェアでも表データを扱う\n\n\n\n表計算ソフトウェアにデータを記録するときもデータフレームと同じ形式をとるよ。 ここでは1,2,3といった数字が行、A、B、Cといったアルファベットが列を示しているね。 それぞれの値を記録している場所のことをセルというよ。 これはデータを記録している番地のようなもので、例えば、チンパンジーの体重はB3を参照すれば良いことになるね。\n\n\n\n表計算ソフトウェアで表データを扱う\n\n\n\n\n先ほど5種の動物のデータフレームを示しましたが、データ分析を進めていくには より多くのデータが必要になります。 たくさんのデータがあれば、データから見えてくる傾向・パターンも見えやすくなります。 ここでは22種の動物について、同様の体長、体重を調べたデータを用意しました。 ここからはこの動物データを使い、データを調べていくことにします。 なおデータフレームをプログラミング言語で扱うときは列の名前（列名）に 漢字やひらがなを使うと意味がわかりやすいですが、できるだけ英語やローマ字を使ったものにしましょう。 ここでも次のように列名を日本語から英語に変えてあります。\n\ntaxon: 動物の分類群\nname: 動物の種名\nbody_length_cm: 体長(単位はcm)\nweight_kg: 体重(単位はkg)\n\nRで動物データを扱えるようにするコマンドを表示します。 データはdf_zooというオブジェクトに格納され、いつでも参照できるようになっています。 変数を参照するには$を使います。\n\n# dfはデータフレーム(data frame)の頭文字から\ndf_zoo <- \n  readr::read_csv(\"data-raw/tokushima_zoo_animals22.csv\", \n                col_types = \"ccdd_\")\ndf_zoo\n\n\n\nコードを表示\nknitr::kable(df_zoo)\n\n\n\n\n\ntaxon\nname\nbody_length_cm\nweight_kg\n\n\n\n\n食肉類\nレッサーパンダ\n63.5\n6.0\n\n\n鳥類\nホオジロカンムリヅル\n100.0\n3.5\n\n\n食肉類\nコツメカワウソ\n64.0\n5.4\n\n\n鳥類\nカナダガン\n110.0\n6.5\n\n\n霊長類\nチンパンジー\n85.0\n60.0\n\n\n霊長類\nシシオザル\n66.0\n10.0\n\n\n霊長類\nマントヒヒ\n80.0\n20.0\n\n\n食肉類\nピューマ\n168.0\n80.0\n\n\n齧歯類\nカピバラ\n134.0\n66.0\n\n\n食肉類\nライオン\n250.0\n225.0\n\n\n鳥類\nアフリカハゲコウ\n130.0\n9.0\n\n\n偶蹄類\nシロオリックス\n175.0\n220.0\n\n\n食肉類\nミーアキャット\n31.0\n0.9\n\n\n食肉類\nシンリンオオカミ\nNA\n30.3\n\n\n鳥類\nアンデスコンドル\n1.2\n15.0\n\n\n食肉類\nホッキョクグマ\n250.0\n410.0\n\n\n霊長類\nリスザル\n35.0\n1.1\n\n\n鳥類\nフンボルトペンギン\n69.0\n6.0\n\n\n鯨偶蹄類\nラマ\nNA\n140.0\n\n\n奇蹄類\nポニー\nNA\nNA\n\n\n齧歯類\nモルモット\n40.0\n1.5\n\n\n鯨偶蹄類\nヒツジ\nNA\nNA\n\n\n\n\n\n\ndf_zoo$name\n\n [1] \"レッサーパンダ\"       \"ホオジロカンムリヅル\" \"コツメカワウソ\"      \n [4] \"カナダガン\"           \"チンパンジー\"         \"シシオザル\"          \n [7] \"マントヒヒ\"           \"ピューマ\"             \"カピバラ\"            \n[10] \"ライオン\"             \"アフリカハゲコウ\"     \"シロオリックス\"      \n[13] \"ミーアキャット\"       \"シンリンオオカミ\"     \"アンデスコンドル\"    \n[16] \"ホッキョクグマ\"       \"リスザル\"             \"フンボルトペンギン\"  \n[19] \"ラマ\"                 \"ポニー\"               \"モルモット\"          \n[22] \"ヒツジ\""
  },
  {
    "objectID": "data.html#データをグラフに表現する",
    "href": "data.html#データをグラフに表現する",
    "title": "2  データの種類と表現方法",
    "section": "2.2 データをグラフに表現する",
    "text": "2.2 データをグラフに表現する\n数学は統計学的な考え方において必須ではありません。\n探索的データ分析\n度数分布表、ヒストグラム、箱ヒゲ図、散布図、カルトグラム\n\n\nコードを表示\ndf_zoo$body_length_cm\n\n\n [1]  63.5 100.0  64.0 110.0  85.0  66.0  80.0 168.0 134.0 250.0 130.0 175.0\n[13]  31.0    NA   1.2 250.0  35.0  69.0    NA    NA  40.0    NA\n\n\nこのような数値の羅列を示してデータの特徴を説明することは困難です。\nデータを要約する方法にはさまざまなものがあります。代表的なものは平均値の計算です。\nデータに含まれる数値の傾向を大まかに把握する\n最小値、最大値\nデータの分布を明らかにする。\nある値がデータに含まれる数を度数どすうまたは頻度ひんどといいます。 動物のデータセットの分類群に対して度数を求めると次のようになります。\n\n\nコードを表示\n# 度数、頻度を英語で frequency といいます\ncount(df_zoo, taxon, name = \"frequency\") |>\n  knitr::kable()\n\n\n\n\n\ntaxon\nfrequency\n\n\n\n\n偶蹄類\n1\n\n\n奇蹄類\n1\n\n\n霊長類\n4\n\n\n食肉類\n7\n\n\n鯨偶蹄類\n2\n\n\n鳥類\n5\n\n\n齧歯類\n2\n\n\n\n\n\n対象が量的変数の場合は頻度を簡単に求めることができます。 それでは量的変数、特に連続変数に対し度数を求めるにはどうすれば良いでしょうか。 量的変数に対して連続変数では同じ値をとることが少ないです。 そのため連続変数の度数を求めるときは、変数がとり得る値をいくつかの階級に分けて考えます。\n階級分けのために、まずは変数の最小値と最大値を調べましょう。 最小値と最大値はそれぞれmin()関数とmax()関数に対象の変数を与えることで求められます。\n\n\nコードを表示\n# 動物データの体長について最小値・最大値を求める\nmin(df_zoo$body_length_cm, na.rm = TRUE)\n\n\n[1] 1.2\n\n\nコードを表示\nmax(df_zoo$body_length_cm, na.rm = TRUE)\n\n\n[1] 250\n\n\n最小値・最大値を一度に求めるためのrange()関数も同様に扱えます。\n\n\nコードを表示\nrange(df_zoo$body_length_cm, na.rm = TRUE)\n\n\n[1]   1.2 250.0\n\n\n最小値と最大値がわかったところで、次は階級を設定します。\nデータ中の度数をまとめて表形式にしたものは度数分布表と呼ばれます。\n分類群の値ごとに同じデータがどれだけあるかをカウントして度数を求めます。\n度数分布表は手元のデータの値をいくつかの階級 (class)\n度数分布をグラフ化する方法の一つとしてヒストグラムがあります。\n\n\nコードを表示\nlibrary(ragg)\nlibrary(ggplot2)\n\ndf_zoo |> \n  ggplot(aes(body_length_cm)) +\n  geom_histogram(bins = 6)\n\n\n\n\n\n\n\n\n\n\n\n\n階級幅の異なるヒストグラム\n\n\n\n階級の幅が一定でないヒストグラムが存在するよ。\n\n\nデータに対する説得力を増すためにも使われます。\nデータの特徴を素早く捉えることができます。"
  },
  {
    "objectID": "data.html#まとめ",
    "href": "data.html#まとめ",
    "title": "2  データの種類と表現方法",
    "section": "2.3 まとめ",
    "text": "2.3 まとめ\n\nデータの種類"
  },
  {
    "objectID": "summary_statistics.html",
    "href": "summary_statistics.html",
    "title": "3  データの特徴を捉える",
    "section": "",
    "text": "コードを表示\ndf_zoo <- \n  readr::read_csv(\"data-raw/tokushima_zoo_animals22.csv\", \n                col_types = \"ccdd_\")"
  },
  {
    "objectID": "summary_statistics.html#代表値",
    "href": "summary_statistics.html#代表値",
    "title": "3  データの特徴を捉える",
    "section": "3.1 代表値",
    "text": "3.1 代表値\n\n中央値\n\n\n\nコードを表示\nsort(df_zoo$body_length_cm)\n\n\n [1]   1.2  31.0  35.0  40.0  63.5  64.0  66.0  69.0  80.0  85.0 100.0 110.0\n[13] 130.0 134.0 168.0 175.0 250.0 250.0\n\n\nコードを表示\nmedian(df_zoo$body_length_cm, na.rm = TRUE)\n\n\n[1] 82.5\n\n\nコードを表示\n(sort(df_zoo$body_length_cm)[9] + sort(df_zoo$body_length_cm)[10]) / 2\n\n\n[1] 82.5"
  },
  {
    "objectID": "summary_statistics.html#データのばらつき",
    "href": "summary_statistics.html#データのばらつき",
    "title": "3  データの特徴を捉える",
    "section": "3.2 データのばらつき",
    "text": "3.2 データのばらつき\nパーセンタイル\n箱ヒゲ図"
  },
  {
    "objectID": "summary_statistics.html#相関-2つの変数の間の関係",
    "href": "summary_statistics.html#相関-2つの変数の間の関係",
    "title": "3  データの特徴を捉える",
    "section": "3.3 相関: 2つの変数の間の関係",
    "text": "3.3 相関: 2つの変数の間の関係\n相関係数\n相関係数は変数間の因果関係を示すものではありません。 例えば、ある地域の８月において、毎日のアイスの売り上げ個数と熱中症患者数の間に 正の相関があった場合でも、アイスが熱中症の原因となっているわけではありません。 アイスの売り上げ、熱中症の双方に影響するもの、気温が原因です。 気温について考慮せずに分析を進めてしまうと、見せかけの因果関係を発生させてしまいます。 熱中症患者の増加を抑えるためにアイスの販売を規制するなどの誤った対策が取られてしまう 恐れがあります。"
  },
  {
    "objectID": "regression.html",
    "href": "regression.html",
    "title": "5  回帰問題に挑戦",
    "section": "",
    "text": "コードを表示\nlibrary(palmerpenguins)\n次に示すのは南極大陸に生育するペンギンの大きさを調べた観測データです。 それぞれの変数は次の意味をもちます（詳細は付録のデータセットを参照してください）。"
  },
  {
    "objectID": "regression.html#回帰と相関",
    "href": "regression.html#回帰と相関",
    "title": "5  回帰問題に挑戦",
    "section": "5.1 回帰と相関",
    "text": "5.1 回帰と相関"
  },
  {
    "objectID": "regression.html#線形回帰",
    "href": "regression.html#線形回帰",
    "title": "5  回帰問題に挑戦",
    "section": "5.2 線形回帰",
    "text": "5.2 線形回帰\n最小二乗法"
  },
  {
    "objectID": "classification.html#主成分分析",
    "href": "classification.html#主成分分析",
    "title": "6  分類問題に挑戦",
    "section": "6.2 主成分分析",
    "text": "6.2 主成分分析"
  },
  {
    "objectID": "classification.html#クラスタリング",
    "href": "classification.html#クラスタリング",
    "title": "6  分類問題に挑戦",
    "section": "6.3 クラスタリング",
    "text": "6.3 クラスタリング"
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "まとめ",
    "section": "",
    "text": "徳島県統計グラフコンクール、統計グラフ全国コンクールに挑戦してみよう。"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "参考文献・URL",
    "section": "",
    "text": "江崎貴裕. 2020. 分析者のためのデータ解釈学入門 :\nデータの本質をとらえる技術. ソシム. http://id.ndl.go.jp/bib/030791751."
  },
  {
    "objectID": "dataset.html",
    "href": "dataset.html",
    "title": "付録 A. データセット",
    "section": "",
    "text": "コードを表示\n# library(palmerpenguins)"
  },
  {
    "objectID": "dataset.html#とくしま動物園で飼育される動物の体の大きさと体重",
    "href": "dataset.html#とくしま動物園で飼育される動物の体の大きさと体重",
    "title": "付録 A. データセット",
    "section": "A.2 とくしま動物園で飼育される動物の体の大きさと体重",
    "text": "A.2 とくしま動物園で飼育される動物の体の大きさと体重\n体の大きさ（体長 cm）と体重（kg）をデータセット化しました。 原則として、各種の体長および体重の最大値を記録しています。"
  },
  {
    "objectID": "r_intro.html",
    "href": "r_intro.html",
    "title": "付録 B. Rのイロハ",
    "section": "",
    "text": "オブジェクト、クラス"
  },
  {
    "objectID": "r_intro.html#rrstudioのインストール",
    "href": "r_intro.html#rrstudioのインストール",
    "title": "付録 B. Rのイロハ",
    "section": "B.1 R、RStudioのインストール",
    "text": "B.1 R、RStudioのインストール"
  },
  {
    "objectID": "r_intro.html#電卓として使ってみよう",
    "href": "r_intro.html#電卓として使ってみよう",
    "title": "付録 B. Rのイロハ",
    "section": "B.2 電卓として使ってみよう",
    "text": "B.2 電卓として使ってみよう\n値をオブジェクトに保存することを代入と言います。 代入は <- を使って実行します。 代入した値はオブジェクトを呼び出すこと（参照と言います）によって取り出せます。 また、オブジェクトのコピーや上書きといった処理も可能です。\n\n# 1 + 1の計算結果をオブジェクトxに代入（保存）\nx <- 1 + 1\n\n\n# オブジェクトの呼び出し（参照）\nx\n\n[1] 2\n\n# オブジェクトのコピー\ny <- x\ny\n\n[1] 2\n\n# オブジェクトの上書き\nx <- 9 * 9\n\n\nx\n\n[1] 81\n\ny\n\n[1] 2\n\n\n\nB.2.1 値を比較する\n\n\nB.2.2 関数\n\n# 平方根\nsqrt(4)\n\n[1] 2\n\nclass(sqrt)\n\n[1] \"function\""
  },
  {
    "objectID": "r_intro.html#データフレーム",
    "href": "r_intro.html#データフレーム",
    "title": "付録 B. Rのイロハ",
    "section": "B.3 データフレーム",
    "text": "B.3 データフレーム\n\ndata.frame(\n  `名前` = c(\"サトウさん\", \"ウチダさん\", \"エンドウさん\", \"ミシマさん\"),\n  `身長` = c(153.3, 162.8, 145.1, 121.7),\n  `体重` = c(48.4, 59.0, 47.2, 39.1))\n\n          名前  身長 体重\n1   サトウさん 153.3 48.4\n2   ウチダさん 162.8 59.0\n3 エンドウさん 145.1 47.2\n4   ミシマさん 121.7 39.1\n\n\n\nB.3.1 データの読み込み\ncsv\n\n\nB.3.2 データのコピー\n表計算ソフトウェアに格納されているデータをRに読み込ませる方法を紹介します。"
  }
]